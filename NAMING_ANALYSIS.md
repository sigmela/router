# –ê–Ω–∞–ª–∏–∑ –Ω–∞–∑–≤–∞–Ω–∏–π –¥–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π NavigationNode

## –¢–µ–∫—É—â–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

1. **`activateByRoute` / `isActivatable`**
2. **`switchToRoute` / `canSwitchToRoute`**
3. **`selectChildByRoute` / `canSelectChild`**
4. **`setActiveChildByRoute` / `hasSetActiveChild`** (—Ç–µ–∫—É—â–µ–µ)

## –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –º–µ—Ç–æ–¥?

**–í TabBar:**
```typescript
public setActiveChildByRoute(routeId: string): void {
  const idx = this.findTabIndexByRoute(routeId);
  if (idx === -1) return;
  if (idx === this.state.index) return; // –£–∂–µ –∞–∫—Ç–∏–≤–µ–Ω
  this.setState({ index: idx }); // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É
}
```

**–°–µ–º–∞–Ω—Ç–∏–∫–∞:**
- –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–π –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç (–≤–∫–ª–∞–¥–∫—É) –Ω–∞ –æ—Å–Ω–æ–≤–µ routeId
- –≠—Ç–æ **–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ**, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ "–∞–∫—Ç–∏–≤–∞—Ü–∏—è"
- –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ TabBar: "–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É —Å —ç—Ç–∏–º routeId"

### –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–í —Ç–µ—Å—Ç–∞—Ö:**
- "switch tabs" - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
- "switch to home tab" - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥–æ–º–∞—à–Ω—é—é –≤–∫–ª–∞–¥–∫—É
- "switch back to catalog" - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥

**–í Router:**
- `activateTabBarForRoute` - –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å TabBar –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∞
- –ù–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏

## –í–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π

### –í–∞—Ä–∏–∞–Ω—Ç 1: `activateByRoute` / `isActivatable`

**–ü–ª—é—Å—ã:**
- ‚úÖ –ö–æ—Ä–æ—Ç–∫–æ–µ –∏ –ø–æ–Ω—è—Ç–Ω–æ–µ
- ‚úÖ –ì–ª–∞–≥–æ–ª "activate" —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ UI
- ‚úÖ `isActivatable` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è type guards

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è "Activate" –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å "—Å–¥–µ–ª–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º", –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ "–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å"
- ‚ö†Ô∏è `isActivatable` –∑–≤—É—á–∏—Ç –∫–∞–∫ "–º–æ–∂–µ—Ç –±—ã—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω", –∞ –Ω–µ "–º–æ–∂–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏—Ö"
- ‚ö†Ô∏è –ù–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –¥–æ—á–µ—Ä–Ω–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

**–û—Ü–µ–Ω–∫–∞:** 6/10 - —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: `switchToRoute` / `canSwitchToRoute`

**–ü–ª—é—Å—ã:**
- ‚úÖ –¢–æ—á–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É - —ç—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ –≤ —Ç–µ—Å—Ç–∞—Ö ("switch tabs")
- ‚úÖ `canSwitchToRoute` - –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ –¥–ª—è –ª—é–±—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (TabBar, Drawer, Carousel)

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù–µ–º–Ω–æ–≥–æ –¥–ª–∏–Ω–Ω–µ–µ, —á–µ–º `activateByRoute`
- ‚ö†Ô∏è "switch" –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–Ω–µ–µ –∑–Ω–∞–∫–æ–º—ã–º —Ç–µ—Ä–º–∏–Ω–æ–º –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

**–û—Ü–µ–Ω–∫–∞:** 9/10 - –ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ —Å–µ–º–∞–Ω—Ç–∏–∫–µ

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: `selectChildByRoute` / `canSelectChild`

**–ü–ª—é—Å—ã:**
- ‚úÖ –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤—ã–±–æ—Ä –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- ‚úÖ `canSelectChild` - –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤—ã–±–∏—Ä–∞—Ç—å
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è "select" –º–æ–∂–µ—Ç –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –≤—ã–±–æ—Ä–æ–º –∏–∑ —Å–ø–∏—Å–∫–∞, –∞ –Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º
- ‚ö†Ô∏è –ù–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–û—Ü–µ–Ω–∫–∞:** 7/10 - —Ö–æ—Ä–æ—à–æ, –Ω–æ "switch" —Ç–æ—á–Ω–µ–µ

---

### –í–∞—Ä–∏–∞–Ω—Ç 4: `setActiveChildByRoute` / `hasSetActiveChild`

**–ü–ª—é—Å—ã:**
- ‚úÖ –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ
- ‚úÖ –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–∫—É—â–µ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –î–ª–∏–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
- ‚ö†Ô∏è `hasSetActiveChild` - –Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω—è—Ç–Ω–æ –¥–ª—è type guard
- ‚ö†Ô∏è "set" - –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –≥–ª–∞–≥–æ–ª, –º–µ–Ω–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–ª—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

**–û—Ü–µ–Ω–∫–∞:** 6/10 - —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

---

### –í–∞—Ä–∏–∞–Ω—Ç 5: `activateChildByRoute` / `canActivateChild`

**–ü–ª—é—Å—ã:**
- ‚úÖ –ë–æ–ª–µ–µ —è–≤–Ω–æ–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ `activateByRoute`
- ‚úÖ –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç
- ‚úÖ `canActivateChild` - –ø–æ–Ω—è—Ç–Ω–æ –¥–ª—è type guard

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –î–ª–∏–Ω–Ω–µ–µ, —á–µ–º `activateByRoute`
- ‚ö†Ô∏è –í—Å–µ –µ—â–µ –Ω–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç "–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ"

**–û—Ü–µ–Ω–∫–∞:** 7/10 - –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É –∫—Ä–∞—Ç–∫–æ—Å—Ç—å—é –∏ —è–≤–Ω–æ—Å—Ç—å—é

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### üèÜ –õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç: `switchToRoute` / `canSwitchToRoute`

**–ü—Ä–∏—á–∏–Ω—ã:**
1. ‚úÖ **–¢–æ—á–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞** - —ç—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—è
2. ‚úÖ **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏** - –≤ —Ç–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è "switch tabs"
3. ‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è TabBar, Drawer, Carousel –∏ —Ç.–¥.
4. ‚úÖ **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å** - `canSwitchToRoute` —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `switchToRoute` / `isSwitchable`, –Ω–æ `canSwitchToRoute` –±–æ–ª–µ–µ —è–≤–Ω—ã–π.

---

## –ò—Ç–æ–≥–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)

```typescript
export interface NavigationNode {
  // ... –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã ...
  
  /**
   * Optional: Switches active child node by route ID.
   * Used by container nodes (TabBar, Drawer, etc.) to switch active child.
   * 
   * @param routeId - Route ID to switch to
   */
  switchToRoute?: (routeId: string) => void;
  
  /**
   * Optional: Checks if a route exists in this container node.
   * Used for fast route lookup without iterating all children.
   * 
   * @param routeId - Route ID to check
   * @returns true if route exists in this container
   */
  hasRoute?: (routeId: string) => boolean;
}
```

**Type guards:**
```typescript
function canSwitchToRoute(
  node: NavigationNode | undefined
): node is NavigationNode & { switchToRoute: (routeId: string) => void } {
  return node !== undefined && typeof node.switchToRoute === 'function';
}

function canLookupRoutes(
  node: NavigationNode | undefined
): node is NavigationNode & { hasRoute: (routeId: string) => boolean } {
  return node !== undefined && typeof node.hasRoute === 'function';
}
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏

**React Navigation:**
- `jumpTo` - –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤ TabNavigator
- `navigate` - –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**React Router:**
- `navigate` - –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- `replace` - –¥–ª—è –∑–∞–º–µ–Ω—ã

**–ù–∞—à —Å–ª—É—á–∞–π:**
- `switchToRoute` - –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- –ë–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ, —á–µ–º –æ–±—â–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

---

## –í—ã–≤–æ–¥

**`switchToRoute` / `canSwitchToRoute`** - –ª—É—á—à–∏–π –≤—ã–±–æ—Ä, –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. –¢–æ—á–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ)
2. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
3. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ –¥–ª—è –ª—é–±—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
4. –ü–æ–Ω—è—Ç–Ω–æ –∏ —è–≤–Ω–æ

**–í—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç:** `activateChildByRoute` / `canActivateChild` - –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è, –Ω–æ –º–µ–Ω–µ–µ —Ç–æ—á–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞.
